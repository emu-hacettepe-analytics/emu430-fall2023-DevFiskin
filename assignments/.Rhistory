title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-7.dBkaPT.dli-title-metadata')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-43986a27-7.dBkaPT.dli-title-metadata')
votes <- html_text(votes)
votes <- tail(head(votes,-1),-1)
votes <- unlist(lapply(votes, function(x) {x[2]}))
votes <- split(votes)
rating
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-7.dBkaPT.dli-title-metadata')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
votes <- tail(head(votes,-1),-1)
votes <- unlist(lapply(votes, function(x) {x[2]}))
votes <- split(votes)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-7.dBkaPT.dli-title-metadata')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
arrange(desc(rating)) %>%
slice_max(rating, n = 5)
duration
rating
votes
year
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
arrange(desc(rating)) %>%
slice_max(rating, n = 5)
rating
help(arrange)
select(title_names = c("Recep İvedik","Hababam Sınıfı"))
class(rating)
arrange(desc(rating)) %>%
slice_max(rating, n = 5)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
arrange(desc(rating)) %>%
slice_max(rating, n = 5)
help(arrange)
rating
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
rating
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
arrange(desc(rating)) %>%
slice_max(rating, n = 5)
rating
arrange(desc(data.frame(rating))) %>%
slice_max(rating, n = 5)
arrange(desc(as.data.frame(rating))) %>%
slice_max(rating, n = 5)
arrange(desc(as.data.frame(matrix(rating)))) %>%
slice_max(rating, n = 5)
arrange(desc(as.data.frame(matrix(rating)))) %>%
slice_max(rating, n = 5)
arrange(desc(as.data.frame(matrix(rating)))) %>%
slice_max(rating, n = 5)
arrange(rating) %>%
slice_max(rating, n = 5)
rating <- data.frame(rating)
arrange(rating) %>%
slice_max(rating, n = 5)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
rating <- data.frame(rating)
arrange(rating) %>%
slice_max(rating, n = 5)
setwd("C:/Users/Public/gitHub/emu430-fall2023-DevFiskin/assignments")
rating <- data.frame(rating)
arrange(rating) %>%
slice_max(rating, n = 5)
arrange(rating) %>%
slice_min(rating, n= 5)
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
arrange(rating) %>%
slice_max(rating, n =5)
rating <- data.frame(rating)
rating <- data.frame(rating)
rating %>%
tail(5)
source("C:/Users/RABİA/Desktop/Yeni Metin Belgesi.R", echo=TRUE)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\d+(?=h)"))
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\.\\d+")
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
rating <- data.frame(rating)
arrange(rating) %>%
head(5)
rating %>%
tail(5)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
rating <- data.frame(rating)
arrange(desc(rating)) %>%
head(5)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
rating <- data.frame(rating)
arrange(rating, desc(rating)) %>%
head(5)
arrange(rating, desc(rating)) %>%
tail(5)
library(rvest)
library(tidyverse)
library(stringr)
library(ggplot2)
url1 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=2010-01-01,2023-12-31&num_votes=2500,&country_of_origin=TR&count=250"
url2 <- "https://www.imdb.com/search/title/?title_type=feature&release_date=,2009-12-31&num_votes=2500,&country_of_origin=TR&count=250"
urls <-c(url1,url2)
data_html <- read_html(url1)
data_html <- read_html(url2)
#films <- tab |> setNames(c("Title", "Year", "Duration","Rating", "Votes"))
title_names <- data_html |> html_nodes('.ipc-title__text')
title_names <- html_text(title_names)
title_names <- tail(head(title_names,-1),-1)
title_names <- str_split(title_names, " ", n=2)
title_names <- unlist(lapply(title_names, function(x) {x[2]}))
year <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(1)')
year <- html_text(year)
year <- tail(head(year,-1),-1)
year <- unlist(lapply(year, function(x) {x[2]}))
year <- as.numeric(year)
duration <- data_html |> html_nodes('.sc-43986a27-8.jHYIIK.dli-title-metadata-item:nth-child(2)')
duration <- html_text(duration)
hour <- as.numeric(str_extract(duration, "\\d+(?=h)"))
replace_na(hour, 0)
minute <- as.numeric(str_extract(duration, "\\d+(?=m)"))
replace_na(minute, 0)
duration <- 60 * hour + minute
rating <- data_html |> html_nodes('.ratingGroup--imdb-rating')
rating <- html_text(rating)
rating <- str_extract(rating, "\\d+\\.\\d+")
rating <- as.numeric(rating)
votes <- data_html |> html_nodes('.sc-53c98e73-0.kRnqtn')
votes <- html_text(votes)
pattern <- "[^0-9]"
votes <- as.numeric(str_subset(votes, pattern))
rating <- data.frame(rating)
arrange(rating, desc(rating)) %>%
head(5)
rating <- data.frame(rating)
arrange(rating, desc(rating)) %>%
head(5)
